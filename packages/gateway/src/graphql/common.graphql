# automatically map from FHIR

scalar Date

input HumanNameInput {
  use: String # traditional (Bangla) or English
  givenName: String
  familyName: String
}

type HumanName {
  use: String # traditional (Bangla) or English
  givenName: String
  familyName: String
}

enum Relationship {
  GUARDIAN
  MATERNAL_GRANDMOTHER
  MATERNAL_GRANDFATHER
  PATERNAL_GRANDMOTHER
  PATERNAL_GRANDFATHER
}

enum LocationType {
  HOSPITAL
  OTHER_INSTITUTION
  PRIVATE_HOME
  OTHER
}

input PersonInput {
  identifier: [ID]
  name: [HumanNameInput]
  telecom: [ContactPointInput]
  gender: String
  birthDate: String
  address: [AddressInput]
  photo: AttachmentInput
}

type Person {
  id: ID
  identifier: [ID] # Change ot ID object with type - so we can insert Nat. ID
  name: [HumanName]
  telecom: [ContactPoint]
  gender: String
  birthDate: String
  address: [Address]
  photo: Attachment
  nationality: String # use https://www.hl7.org/fhir/extension-patient-nationality.html
}

input RelatedPersonInput {
  identifier: [ID]
  name: [HumanNameInput]
  relationship: Relationship
  telecom: [ContactPointInput]
  gender: String
  birthDate: String
  address: [AddressInput]
  photo: AttachmentInput
}

type RelatedPerson {
  id: ID
  identifier: [ID] # Change ot ID object with type - so we can insert Nat. ID
  name: [HumanName]
  relationship: Relationship
  telecom: [ContactPoint]
  gender: String
  birthDate: String
  address: [Address]
  photo: Attachment
  nationality: String # use https://www.hl7.org/fhir/extension-patient-nationality.html
}

input ContactPointInput {
  system: String # phone | fax | email | pager | url | sms | other
  value: String # The actual contact point details
  use: String # home | work | temp | old | mobile - purpose of this contact point
}

type ContactPoint {
  system: String # phone | fax | email | pager | url | sms | other
  value: String # The actual contact point details
  use: String # home | work | temp | old | mobile - purpose of this contact point
}

input LocationInput {
  identifier: [ID]
  status: String
  name: String
  alias: [String]
  description: String
  type: LocationType
  telecom: [ContactPointInput]
  address: AddressInput
  longitude: Float
  latitude: Float
  altitude: Float
}

type Location {
  id: ID!
  identifier: [ID]
  status: String
  name: String
  alias: [String]
  description: String
  telecom: [ContactPoint]
  address: Address
  longitude: Float
  latitude: Float
  altitude: Float
}

input AddressInput {
  use: String
  type: String
  text: String
  line: [String]
  city: String
  district: String
  state: String
  postalCode: String
  country: String
  from: Date
  to: Date
}

type Address {
  use: String
  type: String
  text: String
  line: [String]
  city: String
  district: String
  state: String
  postalCode: String
  country: String
  from: Date
  to: Date
}

# TODO: Move to user feature when built out - manage through a user management microservice
input UserInput {
  userName: String
  created: Date
  lastLoggedIn: Date
  firstName: String
  lastName: String
  email: String
  telecom: [ContactPointInput]
  role: [UserRoleInput]!
  address: AddressInput
  primaryOffice: LocationInput
  currentLocation: LocationInput
  catchmentArea: [LocationInput]
}

type User {
  id: ID!
  userName: String
  created: Date
  lastLoggedIn: Date
  firstName: String
  lastName: String
  email: String
  telecom: [ContactPoint]
  role: [UserRole]!
  address: Address
  primaryOffice: Location
  currentLocation: Location
  catchmentArea: [Location]
}

input UserRoleInput {
  type: String #declaration-clerk, registrar, certification-clerk, manager, admin
}

type UserRole {
  id: ID!
  type: String #declaration-clerk, registrar, certification-clerk, manager, admin
}

type Query {
  user(id: ID!): User
}
